<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼šè¯ - OpenClaw æ–‡æ¡£</title>
    <link rel="stylesheet" href="../assets/css/style.css?v=3">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">
                <span class="logo-icon">ğŸ¦</span>
                <span class="logo-text">OpenClaw ä¸­æ–‡æ–‡æ¡£</span>
            </a>
            <button class="nav-toggle" onclick="toggleNav()">â˜°</button>
            <div class="nav-links" id="navLinks">

            <div class="nav-section">
                <span class="nav-section-title">å…¥é—¨æŒ‡å—</span>
                <a href="../start/getting-started.html">å¿«é€Ÿå…¥é—¨</a>
                <a href="../start/wizard.html">å‘å¯¼</a>
                <a href="../start/pairing.html">é…å¯¹</a>
                <a href="../start/setup.html">è®¾ç½®</a>
                <a href="../start/openclaw.html">OpenClaw åŠ©æ‰‹</a>
                <a href="../start/hubs.html">æ–‡æ¡£ä¸­å¿ƒ</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">ç½‘å…³é…ç½®</span>
                <a href="../gateway/configuration.html">é…ç½®</a>
                <a href="../gateway/configuration-examples.html">é…ç½®ç¤ºä¾‹</a>
                <a href="../gateway/security.html">å®‰å…¨</a>
                <a href="../gateway/remote.html">è¿œç¨‹è®¿é—®</a>
                <a href="../gateway/tailscale.html">Tailscale</a>
                <a href="../gateway/multiple-gateways.html">å¤šç½‘å…³</a>
                <a href="../gateway/discovery.html">å‘ç°æœºåˆ¶</a>
                <a href="../environment.html">ç¯å¢ƒå˜é‡</a>
                <a href="../logging.html">æ—¥å¿—é…ç½®</a>
                <a href="../network.html">ç½‘ç»œé…ç½®</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">æ¶ˆæ¯æ¸ é“</span>
                <a href="../channels/whatsapp.html">WhatsApp</a>
                <a href="../channels/telegram.html">Telegram</a>
                <a href="../channels/discord.html">Discord</a>
                <a href="../channels/mattermost.html">Mattermost</a>
                <a href="../channels/imessage.html">iMessage</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">Web ç•Œé¢</span>
                <a href="../web/webchat.html">WebChat</a>
                <a href="../web/control-ui.html">æ§åˆ¶ç•Œé¢</a>
                <a href="../web/dashboard.html">æ§åˆ¶å°</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">æ ¸å¿ƒæ¦‚å¿µ</span>
                <a href="../concepts/streaming.html">æµå¼ä¼ è¾“</a>
                <a href="../concepts/groups.html">ç¾¤ç»„</a>
                <a href="../concepts/group-messages.html">ç¾¤ç»„æ¶ˆæ¯</a>
                <a href="../concepts/multi-agent.html">å¤šä»£ç†è·¯ç”±</a>
                <a href="../concepts/session.html">ä¼šè¯</a>
                <a href="../broadcast-groups.html">å¹¿æ’­ç¾¤ç»„</a>
                <a href="../multi-agent-sandbox-tools.html">å¤šä»£ç†æ²™ç›’</a>
                <a href="../date-time.html">æ—¥æœŸæ—¶é—´</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">è‡ªåŠ¨åŒ–</span>
                <a href="../automation/cron-jobs.html">å®šæ—¶ä»»åŠ¡</a>
                <a href="../automation/webhook.html">Webhooks</a>
                <a href="../automation/gmail-pubsub.html">Gmail Pub/Sub</a>
                <a href="../hooks.html">é’©å­ç³»ç»Ÿ</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å·¥å…·ä¸æŠ€èƒ½</span>
                <a href="../tools/slash-commands.html">æ–œæ å‘½ä»¤</a>
                <a href="../tools/skills.html">æŠ€èƒ½</a>
                <a href="../tools/skills-config.html">æŠ€èƒ½é…ç½®</a>
                <a href="../tools/web.html">Web å·¥å…·</a>
                <a href="../brave-search.html">Brave æœç´¢</a>
                <a href="../perplexity.html">Perplexity</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å®‰è£…ä¸å¹³å°</span>
                <a href="../install/updating.html">æ›´æ–°</a>
                <a href="../install/nix.html">Nix æ¨¡å¼</a>
                <a href="../platforms/macos.html">macOS</a>
                <a href="../platforms/ios.html">iOS</a>
                <a href="../platforms/android.html">Android</a>
                <a href="../platforms/windows.html">Windows (WSL2)</a>
                <a href="../platforms/linux.html">Linux</a>
                <a href="../northflank.html">Northflank éƒ¨ç½²</a>
                <a href="../bedrock.html">AWS Bedrock</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">èŠ‚ç‚¹ä¸åª’ä½“</span>
                <a href="../nodes/index.html">èŠ‚ç‚¹</a>
                <a href="../nodes/images.html">å›¾ç‰‡</a>
                <a href="../nodes/audio.html">éŸ³é¢‘</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">CLI ä¸è°ƒè¯•</span>
                <a href="../cli/index.html">CLI å‚è€ƒ</a>
                <a href="../debug/node-issue.html">Node é—®é¢˜</a>
                <a href="../diagnostics/flags.html">è¯Šæ–­æ ‡å¿—</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å®éªŒæ€§</span>
                <a href="../experiments/onboarding-config-protocol.html">é…ç½®åè®®</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å…¶ä»–</span>
                <a href="../help.html">å¸®åŠ©</a>
            </div>

            </div>
        </div>
    </nav>

    <div class="overlay" onclick="toggleNav()"></div>

    <main class="main-content">
        <div class="content">
            <h1>ä¼šè¯</h1>
<h1>ä¼šè¯ç®¡ç†</h1>
<p>OpenClaw å°† <strong>æ¯ä¸ª Agent çš„ä¸€ä¸ªç›´èŠä¼šè¯</strong> è§†ä¸ºä¸»ä¼šè¯ã€‚ç›´èŠä¼šæŠ˜å åˆ° <code>agent:&lt;agentId&gt;:&lt;mainKey&gt;</code>ï¼ˆé»˜è®¤ <code>main</code>ï¼‰ï¼Œè€Œç¾¤/é¢‘é“æœ‰è‡ªå·±çš„é”®ã€‚<code>session.mainKey</code> ä¼šè¢«å°Šé‡ã€‚</p>
<p>ä½¿ç”¨ <code>session.dmScope</code> æ§åˆ¶ <strong>ç›´èŠ</strong> å¦‚ä½•åˆ†ç»„ï¼š</p>
<ul>
<li><code>main</code>ï¼ˆé»˜è®¤ï¼‰ï¼šæ‰€æœ‰ DM å…±äº«ä¸»ä¼šè¯ä»¥ä¿æŒè¿ç»­æ€§ã€‚</li>
<li><code>per-peer</code>ï¼šæŒ‰å‘é€è€… id è·¨é¢‘é“éš”ç¦»ã€‚</li>
<li><code>per-channel-peer</code>ï¼šæŒ‰é¢‘é“ + å‘é€è€…éš”ç¦»ï¼ˆé€‚åˆå¤šç”¨æˆ·æ”¶ä»¶ç®±ï¼‰ã€‚</li>
<li><code>per-account-channel-peer</code>ï¼šæŒ‰è´¦å· + é¢‘é“ + å‘é€è€…éš”ç¦»ï¼ˆé€‚åˆå¤šè´¦å·æ”¶ä»¶ç®±ï¼‰ã€‚<br>ä½¿ç”¨ <code>session.identityLinks</code> å°† provider å‰ç¼€çš„ peer id æ˜ å°„åˆ°ä¸€ä¸ªè§„èŒƒèº«ä»½ï¼Œè®©åŒä¸€ä¸ªäººè·¨é¢‘é“å…±äº« DM ä¼šè¯ï¼ˆåœ¨ <code>per-peer</code>ã€<code>per-channel-peer</code> æˆ– <code>per-account-channel-peer</code> ä¸‹ç”Ÿæ•ˆï¼‰ã€‚</li>
</ul>
<h2>Gateway æ˜¯çœŸç›¸æ¥æº</h2>
<p>æ‰€æœ‰ä¼šè¯çŠ¶æ€ <strong>ç”± Gateway ç»´æŠ¤</strong>ï¼ˆâ€œä¸»â€ OpenClawï¼‰ã€‚UI å®¢æˆ·ç«¯ï¼ˆmacOS åº”ç”¨ã€WebChat ç­‰ï¼‰å¿…é¡»å‘ Gateway æŸ¥è¯¢ä¼šè¯åˆ—è¡¨å’Œ token è®¡æ•°ï¼Œè€Œä¸æ˜¯è¯»å–æœ¬åœ°æ–‡ä»¶ã€‚</p>
<ul>
<li>åœ¨ <strong>è¿œç¨‹æ¨¡å¼</strong> ä¸‹ï¼Œä½ å…³å¿ƒçš„ä¼šè¯å­˜å‚¨åœ¨è¿œç¨‹ Gateway ä¸»æœºä¸Šï¼Œè€Œä¸æ˜¯ä½ çš„ Macã€‚</li>
<li>UI æ˜¾ç¤ºçš„ token è®¡æ•°æ¥è‡ª Gateway çš„å­˜å‚¨å­—æ®µï¼ˆ<code>inputTokens</code>ã€<code>outputTokens</code>ã€<code>totalTokens</code>ã€<code>contextTokens</code>ï¼‰ã€‚å®¢æˆ·ç«¯ä¸ä¼šè§£æ JSONL è½¬å½•æ¥â€œä¿®å¤â€æ€»æ•°ã€‚</li>
</ul>
<h2>çŠ¶æ€å­˜å‚¨åœ¨å“ªé‡Œ</h2>
<ul>
<li>åœ¨ <strong>Gateway ä¸»æœº</strong> ä¸Šï¼š<ul>
<li>å­˜å‚¨æ–‡ä»¶ï¼š<code>~/.openclaw/agents/&lt;agentId&gt;/sessions/sessions.json</code>ï¼ˆæ¯ä¸ª Agentï¼‰ã€‚</li>
</ul>
</li>
<li>è½¬å½•ï¼š<code>~/.openclaw/agents/&lt;agentId&gt;/sessions/&lt;SessionId&gt;.jsonl</code>ï¼ˆTelegram ä¸»é¢˜ä¼šè¯ä½¿ç”¨ <code>.../&lt;SessionId&gt;-topic-&lt;threadId&gt;.jsonl</code>ï¼‰ã€‚</li>
<li>å­˜å‚¨æ˜¯ <code>sessionKey -&gt; { sessionId, updatedAt, ... }</code> çš„æ˜ å°„ã€‚åˆ é™¤æ¡ç›®æ˜¯å®‰å…¨çš„ï¼›å®ƒä»¬æŒ‰éœ€é‡æ–°åˆ›å»ºã€‚</li>
<li>ç¾¤æ¡ç›®å¯èƒ½åŒ…å« <code>displayName</code>ã€<code>channel</code>ã€<code>subject</code>ã€<code>room</code>ã€<code>space</code> ç”¨äº UI æ ‡æ³¨ã€‚</li>
<li>ä¼šè¯æ¡ç›®åŒ…å« <code>origin</code> å…ƒæ•°æ®ï¼ˆæ ‡ç­¾ + è·¯ç”±æç¤ºï¼‰ï¼Œä½¿ UI èƒ½è§£é‡Šä¼šè¯æ¥è‡ªå“ªé‡Œã€‚</li>
<li>OpenClaw <strong>ä¸è¯»å–</strong>æ—§ç‰ˆ Pi/Tau ä¼šè¯æ–‡ä»¶å¤¹ã€‚</li>
</ul>
<h2>ä¼šè¯ä¿®å‰ª</h2>
<p>OpenClaw åœ¨ LLM è°ƒç”¨å‰é»˜è®¤ä¼š<strong>ä¿®å‰ªæ—§å·¥å…·ç»“æœ</strong>ï¼Œå‡å°‘ä¸Šä¸‹æ–‡ã€‚<br>è¿™ <strong>ä¸ä¼š</strong> é‡å†™ JSONL å†å²ã€‚å‚è§ [/concepts/session-pruning(../concepts/session-pruning.html)ã€‚</p>
<h2>é¢„å‹ç¼©å†…å­˜åˆ·æ–°</h2>
<p>å½“ä¼šè¯æ¥è¿‘è‡ªåŠ¨å‹ç¼©æ—¶ï¼ŒOpenClaw å¯è¿è¡Œä¸€ä¸ª <strong>é™é»˜å†…å­˜åˆ·æ–°</strong> è½®æ¬¡ï¼Œæé†’æ¨¡å‹å°†æŒä¹…ç¬”è®°å†™å…¥ç£ç›˜ã€‚ä»…åœ¨å·¥ä½œåŒºå¯å†™æ—¶è¿è¡Œã€‚å‚è§ [è®°å¿†(../concepts/memory.html) å’Œ [å‹ç¼©(../concepts/compaction.html)ã€‚</p>
<h2>ä¼ è¾“ â†’ ä¼šè¯é”®æ˜ å°„</h2>
<ul>
<li>ç›´èŠéµå¾ª <code>session.dmScope</code>ï¼ˆé»˜è®¤ <code>main</code>ï¼‰ã€‚<ul>
<li><code>main</code>ï¼š<code>agent:&lt;agentId&gt;:&lt;mainKey&gt;</code>ï¼ˆè·¨è®¾å¤‡/é¢‘é“è¿ç»­ï¼‰ã€‚<ul>
<li>å¤šæ‰‹æœºå·å’Œé¢‘é“å¯æ˜ å°„åˆ°åŒä¸€ä¸ª Agent ä¸»é”®ï¼Œå®ƒä»¬ä½œä¸ºä¸€æ®µå¯¹è¯çš„ä¸åŒä¼ è¾“å±‚ã€‚</li>
</ul>
</li>
<li><code>per-peer</code>ï¼š<code>agent:&lt;agentId&gt;:dm:&lt;peerId&gt;</code>ã€‚</li>
<li><code>per-channel-peer</code>ï¼š<code>agent:&lt;agentId&gt;:&lt;channel&gt;:dm:&lt;peerId&gt;</code>ã€‚</li>
<li><code>per-account-channel-peer</code>ï¼š<code>agent:&lt;agentId&gt;:&lt;channel&gt;:&lt;accountId&gt;:dm:&lt;peerId&gt;</code>ï¼ˆaccountId é»˜è®¤ <code>default</code>ï¼‰ã€‚</li>
<li>å¦‚æœ <code>session.identityLinks</code> åŒ¹é… provider å‰ç¼€ peer idï¼ˆæ¯”å¦‚ <code>telegram:123</code>ï¼‰ï¼Œå°†ç”¨è§„èŒƒ key æ›¿æ¢ <code>&lt;peerId&gt;</code>ï¼Œè®©åŒä¸€äººè·¨é¢‘é“å…±äº«ä¼šè¯ã€‚</li>
</ul>
</li>
<li>ç¾¤èŠéš”ç¦»ï¼š<code>agent:&lt;agentId&gt;:&lt;channel&gt;:group:&lt;id&gt;</code>ï¼ˆé¢‘é“/ç©ºé—´ç”¨ <code>agent:&lt;agentId&gt;:&lt;channel&gt;:channel:&lt;id&gt;</code>ï¼‰ã€‚<ul>
<li>Telegram è®ºå›ä¸»é¢˜åœ¨ group id ä¸Šè¿½åŠ  <code>:topic:&lt;threadId&gt;</code> ä»¥éš”ç¦»ã€‚</li>
<li>é—ç•™ <code>group:&lt;id&gt;</code> é”®ä»è¢«è¯†åˆ«ç”¨äºè¿ç§»ã€‚</li>
</ul>
</li>
<li>å…¥ç«™ä¸Šä¸‹æ–‡ä»å¯èƒ½ä½¿ç”¨ <code>group:&lt;id&gt;</code>ï¼›é¢‘é“ä» <code>Provider</code> æ¨æ–­å¹¶è§„èŒƒä¸º <code>agent:&lt;agentId&gt;:&lt;channel&gt;:group:&lt;id&gt;</code>ã€‚</li>
<li>å…¶ä»–æ¥æºï¼š<ul>
<li>Cron ä»»åŠ¡ï¼š<code>cron:&lt;job.id&gt;</code></li>
<li>Webhooksï¼š<code>hook:&lt;uuid&gt;</code>ï¼ˆé™¤éæ˜¾å¼è®¾ç½®ï¼‰</li>
<li>Node è¿è¡Œï¼š<code>node-&lt;nodeId&gt;</code></li>
</ul>
</li>
</ul>
<h2>ç”Ÿå‘½å‘¨æœŸ</h2>
<ul>
<li>é‡ç½®ç­–ç•¥ï¼šä¼šè¯å¤ç”¨ç›´åˆ°è¿‡æœŸï¼Œè¿‡æœŸåœ¨ä¸‹ä¸€æ¡å…¥ç«™æ¶ˆæ¯æ—¶è¯„ä¼°ã€‚</li>
<li>æ¯æ—¥é‡ç½®ï¼šé»˜è®¤ <strong>Gateway ä¸»æœºæœ¬åœ°æ—¶é—´ä¸Šåˆ 4:00</strong>ã€‚å¦‚æœä¼šè¯æœ€åæ›´æ–°æ—©äºæœ€è¿‘ä¸€æ¬¡æ¯æ—¥é‡ç½®æ—¶é—´ï¼Œåˆ™ä¼šè¯è¿‡æœŸã€‚</li>
<li>ç©ºé—²é‡ç½®ï¼ˆå¯é€‰ï¼‰ï¼š<code>idleMinutes</code> æ·»åŠ æ»‘åŠ¨ç©ºé—²çª—å£ã€‚å½“åŒæ—¶è®¾ç½®æ¯æ—¥å’Œç©ºé—²é‡ç½®æ—¶ï¼Œ<strong>å…ˆè¿‡æœŸçš„è§„åˆ™ç”Ÿæ•ˆ</strong>ã€‚</li>
<li>æ—§ç‰ˆä»…ç©ºé—²ï¼šå¦‚æœä½ è®¾ç½®äº† <code>session.idleMinutes</code> ä¸”æ²¡æœ‰ <code>session.reset</code>/<code>resetByType</code>ï¼ŒOpenClaw ä¸ºå…¼å®¹ä¿æŒä»…ç©ºé—²æ¨¡å¼ã€‚</li>
<li>æŒ‰ç±»å‹è¦†ç›–ï¼ˆå¯é€‰ï¼‰ï¼š<code>resetByType</code> å¯è¦†ç›– <code>dm</code>ã€<code>group</code>ã€<code>thread</code> ä¼šè¯ï¼ˆthread = Slack/Discord çº¿ç¨‹ã€Telegram ä¸»é¢˜ã€Matrix çº¿ç¨‹ï¼‰ã€‚</li>
<li>æŒ‰é¢‘é“è¦†ç›–ï¼ˆå¯é€‰ï¼‰ï¼š<code>resetByChannel</code> è¦†ç›–æŸä¸ªé¢‘é“çš„é‡ç½®ç­–ç•¥ï¼ˆé€‚ç”¨äºè¯¥é¢‘é“æ‰€æœ‰ä¼šè¯ç±»å‹ï¼Œå¹¶ä¼˜å…ˆäº <code>reset</code>/<code>resetByType</code>ï¼‰ã€‚</li>
<li>é‡ç½®è§¦å‘ï¼šç²¾ç¡® <code>/new</code> æˆ– <code>/reset</code>ï¼ˆåŠ ä¸Š <code>resetTriggers</code> ä¸­çš„é¢å¤–è§¦å‘ï¼‰å¯åŠ¨æ–°ä¼šè¯ id å¹¶ä¼ é€’å‰©ä½™æ¶ˆæ¯ã€‚<code>/new &lt;model&gt;</code> æ¥å—æ¨¡å‹åˆ«åã€<code>provider/model</code> æˆ– Provider åç§°ï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰å¹¶è®¾ç½®æ–°ä¼šè¯æ¨¡å‹ã€‚å¦‚æœ <code>/new</code> æˆ– <code>/reset</code> å•ç‹¬å‘é€ï¼ŒOpenClaw ä¼šè¿è¡Œä¸€ä¸ªç®€çŸ­çš„â€œhelloâ€ç¡®è®¤é‡ç½®ã€‚</li>
<li>æ‰‹åŠ¨é‡ç½®ï¼šä»å­˜å‚¨åˆ é™¤ç‰¹å®šé”®æˆ–ç§»é™¤ JSONL è½¬å½•ï¼›ä¸‹ä¸€æ¡æ¶ˆæ¯ä¼šé‡å»ºå®ƒä»¬ã€‚</li>
<li>ç‹¬ç«‹ Cron ä»»åŠ¡æ¯æ¬¡è¿è¡Œéƒ½ä¼šç”Ÿæˆæ–°çš„ <code>sessionId</code>ï¼ˆä¸å¤ç”¨ç©ºé—²ï¼‰ã€‚</li>
</ul>
<h2>å‘é€ç­–ç•¥ï¼ˆå¯é€‰ï¼‰</h2>
<p>æ— éœ€åˆ—å‡ºå•ä¸ª idï¼Œå°±èƒ½é˜»æ­¢æŸäº›ä¼šè¯ç±»å‹çš„å‘é€ã€‚</p>
<pre><code class="language-json5">{
  session: {
    sendPolicy: {
      rules: [
        { action: &quot;deny&quot;, match: { channel: &quot;discord&quot;, chatType: &quot;group&quot; } }, // ä¸­æ–‡æ³¨é‡Šï¼šç¦ç”¨ Discord ç¾¤å‘é€
        { action: &quot;deny&quot;, match: { keyPrefix: &quot;cron:&quot; } } // ä¸­æ–‡æ³¨é‡Šï¼šç¦ç”¨ cron ä¼šè¯å‘é€
      ],
      default: &quot;allow&quot;
    }
  }
}
</code></pre>
<p>è¿è¡Œæ—¶è¦†ç›–ï¼ˆä»…æ‰€æœ‰è€…ï¼‰ï¼š</p>
<ul>
<li><code>/send on</code> â†’ æ­¤ä¼šè¯å…è®¸å‘é€</li>
<li><code>/send off</code> â†’ æ­¤ä¼šè¯æ‹’ç»å‘é€</li>
<li><code>/send inherit</code> â†’ æ¸…é™¤è¦†ç›–å¹¶ä½¿ç”¨é…ç½®è§„åˆ™<br>è¯·ä½œä¸ºç‹¬ç«‹æ¶ˆæ¯å‘é€ä»¥ä¾¿æ³¨å†Œã€‚</li>
</ul>
<h2>é…ç½®ï¼ˆå¯é€‰é‡å‘½åç¤ºä¾‹ï¼‰</h2>
<pre><code class="language-json5">// ~/.openclaw/openclaw.json
{
  session: {
    scope: &quot;per-sender&quot;,      // ä¸­æ–‡æ³¨é‡Šï¼šä¿æŒç¾¤é”®åˆ†ç¦»
    dmScope: &quot;main&quot;,          // ä¸­æ–‡æ³¨é‡Šï¼šDM è¿ç»­æ€§ï¼ˆå…±äº«æ”¶ä»¶ç®±å»ºè®® per-channel-peer/per-account-channel-peerï¼‰
    identityLinks: {
      alice: [&quot;telegram:123456789&quot;, &quot;discord:987654321012345678&quot;] // ä¸­æ–‡æ³¨é‡Šï¼šåŒä¸€äººè·¨å¹³å°å…±äº«ä¼šè¯
    },
    reset: {
      // ä¸­æ–‡æ³¨é‡Šï¼šé»˜è®¤ mode=daily, atHour=4ï¼ˆGateway ä¸»æœºæœ¬åœ°æ—¶é—´ï¼‰
      // å¦‚æœä¹Ÿè®¾ç½® idleMinutesï¼Œå…ˆè¿‡æœŸè€…ç”Ÿæ•ˆ
      mode: &quot;daily&quot;,
      atHour: 4,
      idleMinutes: 120
    },
    resetByType: {
      thread: { mode: &quot;daily&quot;, atHour: 4 },
      dm: { mode: &quot;idle&quot;, idleMinutes: 240 },
      group: { mode: &quot;idle&quot;, idleMinutes: 120 }
    },
    resetByChannel: {
      discord: { mode: &quot;idle&quot;, idleMinutes: 10080 }
    },
    resetTriggers: [&quot;/new&quot;, &quot;/reset&quot;],
    store: &quot;~/.openclaw/agents/{agentId}/sessions/sessions.json&quot;,
    mainKey: &quot;main&quot;,
  }
}
</code></pre>
<h2>æŸ¥çœ‹/æ’æŸ¥</h2>
<ul>
<li><code>openclaw status</code> â€” æ˜¾ç¤ºå­˜å‚¨è·¯å¾„å’Œæœ€è¿‘ä¼šè¯ã€‚</li>
<li><code>openclaw sessions --json</code> â€” è¾“å‡ºæ‰€æœ‰æ¡ç›®ï¼ˆç”¨ <code>--active &lt;minutes&gt;</code> è¿‡æ»¤ï¼‰ã€‚</li>
<li><code>openclaw gateway call sessions.list --params &#39;{}&#39;</code> â€” ä»è¿è¡Œä¸­çš„ Gateway è·å–ä¼šè¯ï¼ˆè¿œç¨‹ Gateway ç”¨ <code>--url</code>/<code>--token</code>ï¼‰ã€‚</li>
<li>åœ¨èŠå¤©ä¸­å•ç‹¬å‘é€ <code>/status</code> æŸ¥çœ‹ Agent æ˜¯å¦å¯ç”¨ã€ä¼šè¯ä¸Šä¸‹æ–‡å ç”¨ã€å½“å‰ thinking/verbose å¼€å…³ã€WhatsApp web å‡­è¯æœ€è¿‘åˆ·æ–°æ—¶é—´ï¼ˆç”¨äºè¯†åˆ«é‡è¿éœ€æ±‚ï¼‰ã€‚</li>
<li>å‘é€ <code>/context list</code> æˆ– <code>/context detail</code> æŸ¥çœ‹ç³»ç»Ÿæç¤ºå’Œæ³¨å…¥çš„å·¥ä½œåŒºæ–‡ä»¶ï¼ˆæœ€å¤§ä¸Šä¸‹æ–‡è´¡çŒ®è€…ï¼‰ã€‚</li>
<li>å‘é€ <code>/stop</code> ä½œä¸ºç‹¬ç«‹æ¶ˆæ¯ä»¥ä¸­æ­¢å½“å‰è¿è¡Œã€æ¸…é™¤è¯¥ä¼šè¯çš„é˜Ÿåˆ—è·Ÿè¿›ï¼Œå¹¶åœæ­¢ç”±è¯¥ä¼šè¯å¯åŠ¨çš„å­ Agent è¿è¡Œï¼ˆå›å¤åŒ…å«åœæ­¢æ•°é‡ï¼‰ã€‚</li>
<li>å‘é€ <code>/compact</code>ï¼ˆå¯é€‰è¯´æ˜ï¼‰ä½œä¸ºç‹¬ç«‹æ¶ˆæ¯ä»¥æ€»ç»“æ—§ä¸Šä¸‹æ–‡å¹¶é‡Šæ”¾çª—å£ç©ºé—´ã€‚å‚è§ [/concepts/compaction(../concepts/compaction.html)ã€‚</li>
<li>å¯ç›´æ¥æ‰“å¼€ JSONL è½¬å½•æŸ¥çœ‹å®Œæ•´è½®æ¬¡ã€‚</li>
</ul>
<h2>å°è´´å£«</h2>
<ul>
<li>ä¸»é”®ä¿æŒç»™ 1:1 æµé‡ï¼›ç¾¤èŠä¿æŒè‡ªå·±çš„é”®ã€‚</li>
<li>è‡ªåŠ¨åŒ–æ¸…ç†æ—¶åˆ é™¤å•ä¸ªé”®è€Œä¸æ˜¯æ•´ä¸ªå­˜å‚¨ï¼Œä»¥ä¾¿ä¿ç•™å…¶ä»–ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<h2>ä¼šè¯ origin å…ƒæ•°æ®</h2>
<p>æ¯ä¸ªä¼šè¯æ¡ç›®å°½åŠ›è®°å½•æ¥æºï¼ˆ<code>origin</code>ï¼‰ï¼š</p>
<ul>
<li><code>label</code>ï¼šäººç±»å¯è¯»æ ‡ç­¾ï¼ˆç”±å¯¹è¯æ ‡ç­¾ + ç¾¤ä¸»é¢˜/é¢‘é“è§£æï¼‰</li>
<li><code>provider</code>ï¼šè§„èŒƒåŒ–é¢‘é“ idï¼ˆå«æ‰©å±•ï¼‰</li>
<li><code>from</code>/<code>to</code>ï¼šå…¥ç«™ä¿¡å°ä¸­çš„åŸå§‹è·¯ç”± id</li>
<li><code>accountId</code>ï¼šé¢‘é“è´¦å· idï¼ˆå¤šè´¦å·ï¼‰</li>
<li><code>threadId</code>ï¼šé¢‘é“æ”¯æŒçš„ thread/topic id</li>
</ul>
<p>è¿™äº›å­—æ®µåœ¨ç›´èŠã€é¢‘é“å’Œç¾¤èŠä¸­éƒ½ä¼šå¡«å……ã€‚å¦‚æœæŸä¸ªè¿æ¥å™¨ä»…æ›´æ–°ä¼ é€’è·¯ç”±ï¼ˆä¾‹å¦‚ä¿æŒ DM ä¸»ä¼šè¯é²œæ´»ï¼‰ï¼Œå®ƒä»åº”æä¾›å…¥ç«™ä¸Šä¸‹æ–‡ä»¥ä¾¿ä¼šè¯ä¿ç•™è§£é‡Šæ€§å…ƒæ•°æ®ã€‚æ‰©å±•å¯ä»¥é€šè¿‡å‘é€ <code>ConversationLabel</code>ã€<code>GroupSubject</code>ã€<code>GroupChannel</code>ã€<code>GroupSpace</code>ã€<code>SenderName</code> å¹¶è°ƒç”¨ <code>recordSessionMetaFromInbound</code>ï¼ˆæˆ–ä¼ é€’ç›¸åŒä¸Šä¸‹æ–‡ç»™ <code>updateLastRoute</code>ï¼‰æ¥å®ç°ã€‚</p>

        </div>
    </main>

    <script src="../assets/js/main.js?v=3"></script>
</body>
</html>

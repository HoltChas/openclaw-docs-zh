<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç½‘å…³é…ç½® - OpenClaw æ–‡æ¡£</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">
                <span class="logo-icon">ğŸ¦</span>
                <span class="logo-text">OpenClaw ä¸­æ–‡æ–‡æ¡£</span>
            </a>
            <button class="nav-toggle" onclick="toggleNav()">â˜°</button>
            <div class="nav-links" id="navLinks">
                <div class="nav-section">
                    <span class="nav-section-title">å…¥é—¨æŒ‡å—</span>
                    <a href="../start/getting-started.html">å¿«é€Ÿå…¥é—¨</a>
                    <a href="../start/wizard.html">å‘å¯¼</a>
                    <a href="../start/pairing.html">é…å¯¹</a>
                    <a href="../start/setup.html">è®¾ç½®</a>
                    <a href="../start/openclaw.html">OpenClaw åŠ©æ‰‹</a>
                    <a href="../start/hubs.html">æ–‡æ¡£ä¸­å¿ƒ</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">ç½‘å…³é…ç½®</span>
                    <a href="../gateway/configuration.html">é…ç½®</a>
                    <a href="../gateway/configuration-examples.html">é…ç½®ç¤ºä¾‹</a>
                    <a href="../gateway/security.html">å®‰å…¨</a>
                    <a href="../gateway/remote.html">è¿œç¨‹è®¿é—®</a>
                    <a href="../gateway/tailscale.html">Tailscale</a>
                    <a href="../gateway/multiple-gateways.html">å¤šç½‘å…³</a>
                    <a href="../gateway/discovery.html">å‘ç°æœºåˆ¶</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">æ¶ˆæ¯æ¸ é“</span>
                    <a href="../channels/whatsapp.html">WhatsApp</a>
                    <a href="../channels/telegram.html">Telegram</a>
                    <a href="../channels/discord.html">Discord</a>
                    <a href="../channels/mattermost.html">Mattermost</a>
                    <a href="../channels/imessage.html">iMessage</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">Web ç•Œé¢</span>
                    <a href="../web/webchat.html">WebChat</a>
                    <a href="../web/control-ui.html">æ§åˆ¶ç•Œé¢</a>
                    <a href="../web/dashboard.html">æ§åˆ¶å°</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">æ ¸å¿ƒæ¦‚å¿µ</span>
                    <a href="../concepts/streaming.html">æµå¼ä¼ è¾“</a>
                    <a href="../concepts/groups.html">ç¾¤ç»„</a>
                    <a href="../concepts/group-messages.html">ç¾¤ç»„æ¶ˆæ¯</a>
                    <a href="../concepts/multi-agent.html">å¤šä»£ç†è·¯ç”±</a>
                    <a href="../concepts/session.html">ä¼šè¯</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">è‡ªåŠ¨åŒ–</span>
                    <a href="../automation/cron-jobs.html">å®šæ—¶ä»»åŠ¡</a>
                    <a href="../automation/webhook.html">Webhooks</a>
                    <a href="../automation/gmail-pubsub.html">Gmail Pub/Sub</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">å·¥å…·ä¸æŠ€èƒ½</span>
                    <a href="../tools/slash-commands.html">æ–œæ å‘½ä»¤</a>
                    <a href="../tools/skills.html">æŠ€èƒ½</a>
                    <a href="../tools/skills-config.html">æŠ€èƒ½é…ç½®</a>
                    <a href="../tools/web.html">Web å·¥å…·</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">å®‰è£…ä¸å¹³å°</span>
                    <a href="../install/updating.html">æ›´æ–°</a>
                    <a href="../install/nix.html">Nix æ¨¡å¼</a>
                    <a href="../platforms/macos.html">macOS</a>
                    <a href="../platforms/ios.html">iOS</a>
                    <a href="../platforms/android.html">Android</a>
                    <a href="../platforms/windows.html">Windows (WSL2)</a>
                    <a href="../platforms/linux.html">Linux</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">èŠ‚ç‚¹ä¸åª’ä½“</span>
                    <a href="../nodes/index.html">èŠ‚ç‚¹</a>
                    <a href="../nodes/images.html">å›¾ç‰‡</a>
                    <a href="../nodes/audio.html">éŸ³é¢‘</a>
                </div>
                <div class="nav-section">
                    <span class="nav-section-title">å…¶ä»–</span>
                    <a href="../help.html">å¸®åŠ©</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="overlay" onclick="toggleNav()"></div>

    <main class="main-content">
        <div class="content">
            <h1>ç½‘å…³é…ç½® ğŸ”§</h1>
            
            <p>OpenClaw ä» <code>~/.openclaw/openclaw.json</code> è¯»å–å¯é€‰çš„ <strong>JSON5</strong> é…ç½®ï¼ˆå…è®¸æ³¨é‡Šå’Œå°¾éšé€—å·ï¼‰ã€‚</p>

            <p>å¦‚æœæ–‡ä»¶ç¼ºå¤±ï¼ŒOpenClaw ä½¿ç”¨å®‰å…¨çš„é»˜è®¤å€¼ï¼ˆåµŒå…¥å¼ Pi ä»£ç† + æ¯å‘é€è€…ä¼šè¯ + å·¥ä½œç©ºé—´ <code>~/clawd</code>ï¼‰ã€‚é€šå¸¸ä½ åªéœ€è¦é…ç½®æ¥ï¼š</p>
            <ul>
                <li>é™åˆ¶è°å¯ä»¥è§¦å‘æœºå™¨äººï¼ˆ<code>channels.whatsapp.allowFrom</code>ã€<code>channels.telegram.allowFrom</code> ç­‰ï¼‰</li>
                <li>æ§åˆ¶ç¾¤ç»„ç™½åå• + @æåŠè¡Œä¸ºï¼ˆ<code>channels.whatsapp.groups</code>ã€<code>channels.telegram.groups</code>ã€<code>channels.discord.guilds</code>ã€<code>agents.list[].groupChat</code>ï¼‰</li>
                <li>è‡ªå®šä¹‰æ¶ˆæ¯å‰ç¼€ï¼ˆ<code>messages</code>ï¼‰</li>
                <li>è®¾ç½®ä»£ç†çš„å·¥ä½œç©ºé—´ï¼ˆ<code>agents.defaults.workspace</code> æˆ– <code>agents.list[].workspace</code>ï¼‰</li>
                <li>è°ƒæ•´åµŒå…¥å¼ä»£ç†é»˜è®¤å€¼ï¼ˆ<code>agents.defaults</code>ï¼‰å’Œä¼šè¯è¡Œä¸ºï¼ˆ<code>session</code>ï¼‰</li>
                <li>è®¾ç½®æ¯ä»£ç†èº«ä»½ï¼ˆ<code>agents.list[].identity</code>ï¼‰</li>
            </ul>

            <blockquote>
                <strong>é…ç½®æ–°æ‰‹ï¼Ÿ</strong>æŸ¥çœ‹<a href="../gateway/configuration-examples.html">é…ç½®ç¤ºä¾‹</a>æŒ‡å—è·å–å¸¦è¯¦ç»†è§£é‡Šçš„å®Œæ•´ç¤ºä¾‹ï¼
            </blockquote>

            <h2>ä¸¥æ ¼çš„é…ç½®éªŒè¯</h2>
            <p>OpenClaw åªæ¥å—å®Œå…¨åŒ¹é…æ¨¡å¼çš„é…ç½®ã€‚æœªçŸ¥é”®ã€æ ¼å¼é”™è¯¯çš„ç±»å‹æˆ–æ— æ•ˆå€¼ä¼šå¯¼è‡´ç½‘å…³<strong>æ‹’ç»å¯åŠ¨</strong>ä»¥ç¡®ä¿å®‰å…¨ã€‚</p>

            <p>éªŒè¯å¤±è´¥æ—¶ï¼š</p>
            <ul>
                <li>ç½‘å…³ä¸ä¼šå¯åŠ¨</li>
                <li>ä»…å…è®¸è¯Šæ–­å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼š<code>openclaw doctor</code>ã€<code>openclaw logs</code>ã€<code>openclaw health</code>ã€<code>openclaw status</code>ã€<code>openclaw service</code>ã€<code>openclaw help</code>ï¼‰</li>
                <li>è¿è¡Œ <code>openclaw doctor</code> æŸ¥çœ‹å…·ä½“é—®é¢˜</li>
                <li>è¿è¡Œ <code>openclaw doctor --fix</code>ï¼ˆæˆ– <code>--yes</code>ï¼‰åº”ç”¨è¿ç§»/ä¿®å¤</li>
            </ul>

            <h2>æœ€å°é…ç½®ï¼ˆæ¨èèµ·ç‚¹ï¼‰</h2>
            <pre><code>{
  agents: { defaults: { workspace: "~/clawd" } },
  channels: { whatsapp: { allowFrom: ["+15555550123"] } }
}</code></pre>

            <h2>é…ç½®åŒ…å«ï¼ˆ$includeï¼‰</h2>
            <p>ä½¿ç”¨ <code>$include</code> æŒ‡ä»¤å°†é…ç½®æ‹†åˆ†åˆ°å¤šä¸ªæ–‡ä»¶ã€‚é€‚ç”¨äºï¼š</p>
            <ul>
                <li>ç»„ç»‡å¤§å‹é…ç½®ï¼ˆä¾‹å¦‚ï¼Œæ¯å®¢æˆ·ç«¯ä»£ç†å®šä¹‰ï¼‰</li>
                <li>è·¨ç¯å¢ƒå…±äº«é€šç”¨è®¾ç½®</li>
                <li>å°†æ•æ„Ÿé…ç½®åˆ†å¼€å­˜å‚¨</li>
            </ul>

            <h3>åŸºæœ¬ç”¨æ³•</h3>
            <pre><code>// ~/.openclaw/openclaw.json
{
  gateway: { port: 18789 },
  
  // åŒ…å«å•ä¸ªæ–‡ä»¶ï¼ˆæ›¿æ¢é”®çš„å€¼ï¼‰
  agents: { "$include": "./agents.json5" },
  
  // åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ˆæŒ‰é¡ºåºæ·±åº¦åˆå¹¶ï¼‰
  broadcast: { 
    "$include": [
      "./clients/mueller.json5",
      "./clients/schmidt.json5"
    ]
  }
}</code></pre>

            <h2>å¸¸ç”¨é€‰é¡¹</h2>

            <h3>ç¯å¢ƒå˜é‡ + .env</h3>
            <p>OpenClaw ä»çˆ¶è¿›ç¨‹ï¼ˆshellã€launchd/systemdã€CI ç­‰ï¼‰è¯»å–ç¯å¢ƒå˜é‡ã€‚</p>
            <p>æ­¤å¤–ï¼Œå®ƒåŠ è½½ï¼š</p>
            <ul>
                <li>å½“å‰å·¥ä½œç›®å½•çš„ <code>.env</code>ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</li>
                <li>å…¨å±€å›é€€ <code>.env</code> ä» <code>~/.openclaw/.env</code>ï¼ˆå³ <code>$OPENCLAW_STATE_DIR/.env</code>ï¼‰</li>
            </ul>
            <p>ä¸¤ä¸ª <code>.env</code> æ–‡ä»¶éƒ½ä¸ä¼šè¦†ç›–ç°æœ‰ç¯å¢ƒå˜é‡ã€‚</p>

            <h3>ç¯å¢ƒå˜é‡æ›¿æ¢</h3>
            <p>ä½ å¯ä»¥åœ¨ä»»ä½•é…ç½®å­—ç¬¦ä¸²å€¼ä¸­ä½¿ç”¨ <code>${VAR_NAME}</code> è¯­æ³•ç›´æ¥å¼•ç”¨ç¯å¢ƒå˜é‡ã€‚å˜é‡åœ¨é…ç½®åŠ è½½æ—¶æ›¿æ¢ï¼Œåœ¨éªŒè¯ä¹‹å‰ã€‚</p>
            <pre><code>{
  models: {
    providers: {
      "vercel-gateway": {
        apiKey: "${VERCEL_GATEWAY_API_KEY}"
      }
    }
  },
  gateway: {
    auth: {
      token: "${OPENCLAW_GATEWAY_TOKEN}"
    }
  }
}</code></pre>

            <h3>è®¤è¯å­˜å‚¨ï¼ˆOAuth + API å¯†é’¥ï¼‰</h3>
            <p>OpenClaw å°†<strong>æ¯ä»£ç†</strong>è®¤è¯é…ç½®æ–‡ä»¶ï¼ˆOAuth + API å¯†é’¥ï¼‰å­˜å‚¨åœ¨ï¼š</p>
            <ul>
                <li><code>&lt;agentDir&gt;/auth-profiles.json</code>ï¼ˆé»˜è®¤ï¼š<code>~/.openclaw/agents/&lt;agentId&gt;/agent/auth-profiles.json</code>ï¼‰</li>
            </ul>

            <h2>å…³é”®é…ç½®é¡¹</h2>

            <h3>agents.defaults.workspace</h3>
            <p>è®¾ç½®ä»£ç†ç”¨äºæ–‡ä»¶æ“ä½œçš„<strong>å•ä¸€å…¨å±€å·¥ä½œç©ºé—´ç›®å½•</strong>ã€‚</p>
            <p>é»˜è®¤å€¼ï¼š<code>~/clawd</code></p>
            <pre><code>{
  agents: { defaults: { workspace: "~/clawd" } }
}</code></pre>

            <h3>channels.whatsapp.dmPolicy</h3>
            <p>æ§åˆ¶ WhatsApp ç§ä¿¡ï¼ˆDMï¼‰çš„å¤„ç†æ–¹å¼ï¼š</p>
            <ul>
                <li><code>"pairing"</code>ï¼ˆé»˜è®¤ï¼‰ï¼šæœªçŸ¥å‘é€è€…è·å¾—é…å¯¹ä»£ç ï¼›æ‰€æœ‰è€…å¿…é¡»æ‰¹å‡†</li>
                <li><code>"allowlist"</code>ï¼šä»…å…è®¸ <code>channels.whatsapp.allowFrom</code> ä¸­çš„å‘é€è€…</li>
                <li><code>"open"</code>ï¼šå…è®¸æ‰€æœ‰å…¥ç«™ DMï¼ˆ<strong>éœ€è¦</strong> <code>channels.whatsapp.allowFrom</code> åŒ…å« <code>"*"</code>ï¼‰</li>
                <li><code>"disabled"</code>ï¼šå¿½ç•¥æ‰€æœ‰å…¥ç«™ DM</li>
            </ul>

            <h3>channels.telegram</h3>
            <pre><code>{
  channels: {
    telegram: {
      enabled: true,
      botToken: "123:abc",
      dmPolicy: "pairing",
      groups: { "*": { requireMention: true } }
    }
  }
}</code></pre>

            <h3>channels.discord</h3>
            <pre><code>{
  channels: {
    discord: {
      enabled: true,
      token: "YOUR_BOT_TOKEN",
      dm: { enabled: true, policy: "pairing" },
      guilds: {
        "YOUR_GUILD_ID": {
          requireMention: true,
          channels: { general: { allow: true } }
        }
      }
    }
  }
}</code></pre>

            <h3>logging</h3>
            <ul>
                <li>é»˜è®¤æ—¥å¿—æ–‡ä»¶ï¼š<code>/tmp/openclaw/openclaw-YYYY-MM-DD.log</code></li>
                <li>ç¨³å®šè·¯å¾„ï¼šè®¾ç½® <code>logging.file</code> ä¸º <code>/tmp/openclaw/openclaw.log</code></li>
            </ul>
            <pre><code>{
  logging: {
    level: "info",
    file: "/tmp/openclaw/openclaw.log",
    consoleLevel: "info",
    consoleStyle: "pretty",
    redactSensitive: "tools"
  }
}</code></pre>

            <h2>å¤šä»£ç†è·¯ç”±ï¼ˆagents.list + bindingsï¼‰</h2>
            <p>åœ¨ä¸€ä¸ªç½‘å…³å†…è¿è¡Œå¤šä¸ªéš”ç¦»çš„ä»£ç†ï¼ˆç‹¬ç«‹å·¥ä½œç©ºé—´ã€agentDirã€ä¼šè¯ï¼‰ã€‚å…¥ç«™æ¶ˆæ¯é€šè¿‡ç»‘å®šè·¯ç”±åˆ°ä»£ç†ã€‚</p>

            <pre><code>{
  agents: {
    list: [
      { id: "home", default: true, workspace: "~/clawd-home" },
      { id: "work", workspace: "~/clawd-work" }
    ]
  },
  bindings: [
    { agentId: "home", match: { channel: "whatsapp", accountId: "personal" } },
    { agentId: "work", match: { channel: "whatsapp", accountId: "biz" } }
  ],
  channels: {
    whatsapp: {
      accounts: {
        personal: {},
        biz: {},
      }
    }
  }
}</code></pre>

            <h2>ç›¸å…³æ–‡æ¡£</h2>
            <ul>
                <li><a href="../gateway/configuration-examples.html">é…ç½®ç¤ºä¾‹</a></li>
                <li><a href="../gateway/security.html">å®‰å…¨é…ç½®</a></li>
                <li><a href="../concepts/multi-agent.html">å¤šä»£ç†è·¯ç”±</a></li>
            </ul>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>OpenClaw = CLAW + TARDIS â€” å› ä¸ºæ¯åªå¤ªç©ºé¾™è™¾éƒ½éœ€è¦ä¸€å°æ—¶ç©ºæœºå™¨</p>
            <p>"æˆ‘ä»¬éƒ½åœ¨ç©è‡ªå·±çš„æç¤ºè¯ã€‚" â€” æŸä¸ª AIï¼Œå¤§æ¦‚ token å—¨äº†</p>
            <p class="license">MIT åè®® â€” åƒæµ·æ´‹ä¸­çš„é¾™è™¾ä¸€æ ·è‡ªç”± ğŸ¦</p>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>

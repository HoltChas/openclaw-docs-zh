<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç½‘å…³é…ç½® - OpenClaw æ–‡æ¡£</title>
    <link rel="stylesheet" href="../assets/css/style.css?v=3">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">
                <span class="logo-icon">ğŸ¦</span>
                <span class="logo-text">OpenClaw ä¸­æ–‡æ–‡æ¡£</span>
            </a>
            <button class="nav-toggle" onclick="toggleNav()">â˜°</button>
            <div class="nav-links" id="navLinks">

            <div class="nav-section">
                <span class="nav-section-title">å…¥é—¨æŒ‡å—</span>
                <a href="../start/getting-started.html">å¿«é€Ÿå…¥é—¨</a>
                <a href="../start/wizard.html">å‘å¯¼</a>
                <a href="../start/pairing.html">é…å¯¹</a>
                <a href="../start/setup.html">è®¾ç½®</a>
                <a href="../start/openclaw.html">OpenClaw åŠ©æ‰‹</a>
                <a href="../start/hubs.html">æ–‡æ¡£ä¸­å¿ƒ</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">ç½‘å…³é…ç½®</span>
                <a href="../gateway/configuration.html">é…ç½®</a>
                <a href="../gateway/configuration-examples.html">é…ç½®ç¤ºä¾‹</a>
                <a href="../gateway/security.html">å®‰å…¨</a>
                <a href="../gateway/remote.html">è¿œç¨‹è®¿é—®</a>
                <a href="../gateway/tailscale.html">Tailscale</a>
                <a href="../gateway/multiple-gateways.html">å¤šç½‘å…³</a>
                <a href="../gateway/discovery.html">å‘ç°æœºåˆ¶</a>
                <a href="../environment.html">ç¯å¢ƒå˜é‡</a>
                <a href="../logging.html">æ—¥å¿—é…ç½®</a>
                <a href="../network.html">ç½‘ç»œé…ç½®</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">æ¶ˆæ¯æ¸ é“</span>
                <a href="../channels/whatsapp.html">WhatsApp</a>
                <a href="../channels/telegram.html">Telegram</a>
                <a href="../channels/discord.html">Discord</a>
                <a href="../channels/mattermost.html">Mattermost</a>
                <a href="../channels/imessage.html">iMessage</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">Web ç•Œé¢</span>
                <a href="../web/webchat.html">WebChat</a>
                <a href="../web/control-ui.html">æ§åˆ¶ç•Œé¢</a>
                <a href="../web/dashboard.html">æ§åˆ¶å°</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">æ ¸å¿ƒæ¦‚å¿µ</span>
                <a href="../concepts/streaming.html">æµå¼ä¼ è¾“</a>
                <a href="../concepts/groups.html">ç¾¤ç»„</a>
                <a href="../concepts/group-messages.html">ç¾¤ç»„æ¶ˆæ¯</a>
                <a href="../concepts/multi-agent.html">å¤šä»£ç†è·¯ç”±</a>
                <a href="../concepts/session.html">ä¼šè¯</a>
                <a href="../broadcast-groups.html">å¹¿æ’­ç¾¤ç»„</a>
                <a href="../multi-agent-sandbox-tools.html">å¤šä»£ç†æ²™ç›’</a>
                <a href="../date-time.html">æ—¥æœŸæ—¶é—´</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">è‡ªåŠ¨åŒ–</span>
                <a href="../automation/cron-jobs.html">å®šæ—¶ä»»åŠ¡</a>
                <a href="../automation/webhook.html">Webhooks</a>
                <a href="../automation/gmail-pubsub.html">Gmail Pub/Sub</a>
                <a href="../hooks.html">é’©å­ç³»ç»Ÿ</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å·¥å…·ä¸æŠ€èƒ½</span>
                <a href="../tools/slash-commands.html">æ–œæ å‘½ä»¤</a>
                <a href="../tools/skills.html">æŠ€èƒ½</a>
                <a href="../tools/skills-config.html">æŠ€èƒ½é…ç½®</a>
                <a href="../tools/web.html">Web å·¥å…·</a>
                <a href="../brave-search.html">Brave æœç´¢</a>
                <a href="../perplexity.html">Perplexity</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å®‰è£…ä¸å¹³å°</span>
                <a href="../install/updating.html">æ›´æ–°</a>
                <a href="../install/nix.html">Nix æ¨¡å¼</a>
                <a href="../platforms/macos.html">macOS</a>
                <a href="../platforms/ios.html">iOS</a>
                <a href="../platforms/android.html">Android</a>
                <a href="../platforms/windows.html">Windows (WSL2)</a>
                <a href="../platforms/linux.html">Linux</a>
                <a href="../northflank.html">Northflank éƒ¨ç½²</a>
                <a href="../bedrock.html">AWS Bedrock</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">èŠ‚ç‚¹ä¸åª’ä½“</span>
                <a href="../nodes/index.html">èŠ‚ç‚¹</a>
                <a href="../nodes/images.html">å›¾ç‰‡</a>
                <a href="../nodes/audio.html">éŸ³é¢‘</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">CLI ä¸è°ƒè¯•</span>
                <a href="../cli/index.html">CLI å‚è€ƒ</a>
                <a href="../debug/node-issue.html">Node é—®é¢˜</a>
                <a href="../diagnostics/flags.html">è¯Šæ–­æ ‡å¿—</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å®éªŒæ€§</span>
                <a href="../experiments/onboarding-config-protocol.html">é…ç½®åè®®</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å…¶ä»–</span>
                <a href="../help.html">å¸®åŠ©</a>
            </div>

            </div>
        </div>
    </nav>

    <div class="overlay" onclick="toggleNav()"></div>

    <main class="main-content">
        <div class="content">
            <h1>ç½‘å…³é…ç½®</h1>
<h1>é…ç½® ğŸ”§</h1>
<p>OpenClaw ä» <code>~/.openclaw/openclaw.json</code> è¯»å–å¯é€‰çš„ <strong>JSON5</strong> é…ç½®ï¼ˆå…è®¸æ³¨é‡Š + å°¾éšé€—å·ï¼‰ã€‚</p>
<p>å¦‚æœæ–‡ä»¶ç¼ºå¤±ï¼ŒOpenClaw ä½¿ç”¨å®‰å…¨çš„é»˜è®¤å€¼ï¼ˆåµŒå…¥å¼ Pi Agent + æ¯å‘é€è€…ä¼šè¯ + å·¥ä½œç©ºé—´ <code>~/.openclaw/workspace</code>ï¼‰ã€‚ä½ é€šå¸¸åªéœ€è¦é…ç½®æ¥ï¼š</p>
<ul>
<li>é™åˆ¶è°å¯ä»¥è§¦å‘ Botï¼ˆ<code>channels.whatsapp.allowFrom</code>ã€<code>channels.telegram.allowFrom</code> ç­‰ï¼‰</li>
<li>æ§åˆ¶ç¾¤ç»„ç™½åå• + æåŠè¡Œä¸ºï¼ˆ<code>channels.whatsapp.groups</code>ã€<code>channels.telegram.groups</code>ã€<code>channels.discord.guilds</code>ã€<code>agents.list[].groupChat</code>ï¼‰</li>
<li>è‡ªå®šä¹‰æ¶ˆæ¯å‰ç¼€ï¼ˆ<code>messages</code>ï¼‰</li>
<li>è®¾ç½® Agent çš„å·¥ä½œç©ºé—´ï¼ˆ<code>agents.defaults.workspace</code> æˆ– <code>agents.list[].workspace</code>ï¼‰</li>
<li>è°ƒæ•´åµŒå…¥å¼ Agent é»˜è®¤å€¼ï¼ˆ<code>agents.defaults</code>ï¼‰å’Œä¼šè¯è¡Œä¸ºï¼ˆ<code>session</code>ï¼‰</li>
<li>è®¾ç½®æ¯ Agent èº«ä»½ï¼ˆ<code>agents.list[].identity</code>ï¼‰</li>
</ul>
<blockquote>
<p><strong>åˆšæ¥è§¦é…ç½®ï¼Ÿ</strong> æŸ¥çœ‹ [é…ç½®ç¤ºä¾‹(../gateway/configuration-examples.html) æŒ‡å—è·å–å®Œæ•´ç¤ºä¾‹å’Œè¯¦ç»†è¯´æ˜ï¼</p>
</blockquote>
<h2>ä¸¥æ ¼é…ç½®éªŒè¯</h2>
<p>OpenClaw åªæ¥å—å®Œå…¨åŒ¹é…æ¨¡å¼çš„é…ç½®ã€‚<br>æœªçŸ¥é”®ã€æ ¼å¼é”™è¯¯çš„ç±»å‹æˆ–æ— æ•ˆå€¼ä¼šå¯¼è‡´ Gateway <strong>æ‹’ç»å¯åŠ¨</strong> ä»¥ç¡®ä¿å®‰å…¨ã€‚</p>
<p>éªŒè¯å¤±è´¥æ—¶ï¼š</p>
<ul>
<li>Gateway ä¸ä¼šå¯åŠ¨ã€‚</li>
<li>åªå…è®¸è¯Šæ–­å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼š<code>openclaw doctor</code>ã€<code>openclaw logs</code>ã€<code>openclaw health</code>ã€<code>openclaw status</code>ã€<code>openclaw service</code>ã€<code>openclaw help</code>ï¼‰ã€‚</li>
<li>è¿è¡Œ <code>openclaw doctor</code> æŸ¥çœ‹å…·ä½“é—®é¢˜ã€‚</li>
<li>è¿è¡Œ <code>openclaw doctor --fix</code>ï¼ˆæˆ– <code>--yes</code>ï¼‰åº”ç”¨è¿ç§»/ä¿®å¤ã€‚</li>
</ul>
<p>Doctor é™¤éä½ æ˜ç¡®é€‰æ‹© <code>--fix</code>/<code>--yes</code>ï¼Œå¦åˆ™ä¸ä¼šå†™å…¥æ›´æ”¹ã€‚</p>
<h2>æ¨¡å¼ + UI æç¤º</h2>
<p>Gateway é€šè¿‡ <code>config.schema</code> æš´éœ²é…ç½®çš„ JSON Schema è¡¨ç¤ºä¾› UI ç¼–è¾‘å™¨ä½¿ç”¨ã€‚<br>Control UI ä»æ­¤æ¨¡å¼æ¸²æŸ“è¡¨å•ï¼Œå¹¶æä¾› <strong>åŸå§‹ JSON</strong> ç¼–è¾‘å™¨ä½œä¸ºé€ƒç”Ÿèˆ±ã€‚</p>
<p>é¢‘é“æ’ä»¶å’Œæ‰©å±•å¯ä»¥ä¸ºå®ƒä»¬çš„é…ç½®æ³¨å†Œæ¨¡å¼ + UI æç¤ºï¼Œå› æ­¤é¢‘é“è®¾ç½®<br>åœ¨åº”ç”¨ä¸­ä¿æŒæ¨¡å¼é©±åŠ¨ï¼Œæ— éœ€ç¡¬ç¼–ç è¡¨å•ã€‚</p>
<p>æç¤ºï¼ˆæ ‡ç­¾ã€åˆ†ç»„ã€æ•æ„Ÿå­—æ®µï¼‰ä¸æ¨¡å¼ä¸€èµ·æä¾›ï¼Œå› æ­¤å®¢æˆ·ç«¯å¯ä»¥æ¸²æŸ“<br>æ›´å¥½çš„è¡¨å•è€Œæ— éœ€ç¡¬ç¼–ç é…ç½®çŸ¥è¯†ã€‚</p>
<h2>åº”ç”¨ + é‡å¯ï¼ˆRPCï¼‰</h2>
<p>ä½¿ç”¨ <code>config.apply</code> éªŒè¯ + å†™å…¥å®Œæ•´é…ç½®å¹¶ä¸€æ­¥é‡å¯ Gatewayã€‚<br>å®ƒä¼šå†™å…¥é‡å¯æ ‡è®°å¹¶åœ¨ Gateway æ¢å¤å ping æœ€åä¸€ä¸ªæ´»åŠ¨ä¼šè¯ã€‚</p>
<p>è­¦å‘Šï¼š<code>config.apply</code> æ›¿æ¢<strong>æ•´ä¸ªé…ç½®</strong>ã€‚å¦‚æœä½ åªæƒ³æ›´æ”¹å‡ ä¸ªé”®ï¼Œ<br>ä½¿ç”¨ <code>config.patch</code> æˆ– <code>openclaw config set</code>ã€‚å¤‡ä»½ <code>~/.openclaw/openclaw.json</code>ã€‚</p>
<p>å‚æ•°ï¼š</p>
<ul>
<li><code>raw</code> (string) â€” æ•´ä¸ªé…ç½®çš„ JSON5 è´Ÿè½½</li>
<li><code>baseHash</code> (å¯é€‰) â€” æ¥è‡ª <code>config.get</code> çš„é…ç½®å“ˆå¸Œï¼ˆå½“é…ç½®å·²å­˜åœ¨æ—¶éœ€è¦ï¼‰</li>
<li><code>sessionKey</code> (å¯é€‰) â€” å”¤é†’ ping çš„æœ€åä¸€ä¸ªæ´»åŠ¨ä¼šè¯é”®</li>
<li><code>note</code> (å¯é€‰) â€” åŒ…å«åœ¨é‡å¯æ ‡è®°ä¸­çš„æ³¨é‡Š</li>
<li><code>restartDelayMs</code> (å¯é€‰) â€” é‡å¯å‰å»¶è¿Ÿï¼ˆé»˜è®¤ 2000ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆé€šè¿‡ <code>gateway call</code>ï¼‰ï¼š</p>
<pre><code class="language-bash"># è·å–å½“å‰é…ç½®å“ˆå¸Œ
openclaw gateway call config.get --params &#39;{}&#39; # æ•è· payload.hash
# åº”ç”¨æ–°é…ç½®
openclaw gateway call config.apply --params &#39;{
  &quot;raw&quot;: &quot;{\\n  agents: { defaults: { workspace: \\&quot;~/.openclaw/workspace\\&quot; } }\\n}\\n&quot;,
  &quot;baseHash&quot;: &quot;&lt;hash-from-config.get&gt;&quot;,
  &quot;sessionKey&quot;: &quot;agent:main:whatsapp:dm:+15555550123&quot;,
  &quot;restartDelayMs&quot;: 1000
}&#39;
</code></pre>
<h2>éƒ¨åˆ†æ›´æ–°ï¼ˆRPCï¼‰</h2>
<p>ä½¿ç”¨ <code>config.patch</code> å°†éƒ¨åˆ†æ›´æ–°åˆå¹¶åˆ°ç°æœ‰é…ç½®è€Œä¸è¦†ç›–<br>æ— å…³çš„é”®ã€‚å®ƒåº”ç”¨ JSON åˆå¹¶è¡¥ä¸è¯­ä¹‰ï¼š</p>
<ul>
<li>å¯¹è±¡é€’å½’åˆå¹¶</li>
<li><code>null</code> åˆ é™¤é”®</li>
<li>æ•°ç»„æ›¿æ¢<br>åƒ <code>config.apply</code> ä¸€æ ·ï¼Œå®ƒéªŒè¯ã€å†™å…¥é…ç½®ã€å­˜å‚¨é‡å¯æ ‡è®°ï¼Œå¹¶è°ƒåº¦<br>Gateway é‡å¯ï¼ˆå½“æä¾› <code>sessionKey</code> æ—¶å¯é€‰å”¤é†’ï¼‰ã€‚</li>
</ul>
<p>å‚æ•°ï¼š</p>
<ul>
<li><code>raw</code> (string) â€” ä»…åŒ…å«è¦æ›´æ”¹çš„é”®çš„ JSON5 è´Ÿè½½</li>
<li><code>baseHash</code> (å¿…éœ€) â€” æ¥è‡ª <code>config.get</code> çš„é…ç½®å“ˆå¸Œ</li>
<li><code>sessionKey</code> (å¯é€‰) â€” å”¤é†’ ping çš„æœ€åä¸€ä¸ªæ´»åŠ¨ä¼šè¯é”®</li>
<li><code>note</code> (å¯é€‰) â€” åŒ…å«åœ¨é‡å¯æ ‡è®°ä¸­çš„æ³¨é‡Š</li>
<li><code>restartDelayMs</code> (å¯é€‰) â€” é‡å¯å‰å»¶è¿Ÿï¼ˆé»˜è®¤ 2000ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-bash"># è·å–å½“å‰é…ç½®å“ˆå¸Œ
openclaw gateway call config.get --params &#39;{}&#39; # æ•è· payload.hash
# æ‰“è¡¥ä¸æ›´æ–°é…ç½®
openclaw gateway call config.patch --params &#39;{
  &quot;raw&quot;: &quot;{\\n  channels: { telegram: { groups: { \\&quot;*\\&quot;: { requireMention: false } } } }\\n}\\n&quot;,
  &quot;baseHash&quot;: &quot;&lt;hash-from-config.get&gt;&quot;,
  &quot;sessionKey&quot;: &quot;agent:main:whatsapp:dm:+15555550123&quot;,
  &quot;restartDelayMs&quot;: 1000
}&#39;
</code></pre>
<h2>æœ€å°é…ç½®ï¼ˆæ¨èèµ·ç‚¹ï¼‰</h2>
<pre><code class="language-json5">{
  agents: { defaults: { workspace: &quot;~/.openclaw/workspace&quot; } },
  channels: { whatsapp: { allowFrom: [&quot;+15555550123&quot;] } }
}
</code></pre>
<p>ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»ºé»˜è®¤é•œåƒï¼š</p>
<pre><code class="language-bash">scripts/sandbox-setup.sh
</code></pre>
<h2>è‡ªèŠæ¨¡å¼ï¼ˆæ¨èç”¨äºç¾¤ç»„æ§åˆ¶ï¼‰</h2>
<p>ä¸ºé˜²æ­¢ Bot å“åº” WhatsApp ç¾¤ç»„ä¸­çš„ @-æåŠï¼ˆåªå“åº”ç‰¹å®šæ–‡æœ¬è§¦å‘å™¨ï¼‰ï¼š</p>
<pre><code class="language-json5">{
  agents: {
    defaults: { workspace: &quot;~/.openclaw/workspace&quot; },
    list: [
      {
        id: &quot;main&quot;,
        groupChat: { mentionPatterns: [&quot;@openclaw&quot;, &quot;reisponde&quot;] }
      }
    ]
  },
  channels: {
    whatsapp: {
      // ç™½åå•ä»…ç”¨äºç§èŠï¼›åŒ…å«ä½ è‡ªå·±çš„å·ç å¯ç”¨è‡ªèŠæ¨¡å¼ã€‚
      allowFrom: [&quot;+15555550123&quot;],
      groups: { &quot;*&quot;: { requireMention: true } }
    }
  }
}
</code></pre>
<h2>é…ç½®åŒ…å«ï¼ˆ<code>$include</code>ï¼‰</h2>
<p>ä½¿ç”¨ <code>$include</code> æŒ‡ä»¤å°†é…ç½®æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ã€‚è¿™å¯¹äºä»¥ä¸‹æƒ…å†µå¾ˆæœ‰ç”¨ï¼š</p>
<ul>
<li>ç»„ç»‡å¤§å‹é…ç½®ï¼ˆä¾‹å¦‚ï¼Œæ¯å®¢æˆ·ç«¯ Agent å®šä¹‰ï¼‰</li>
<li>è·¨ç¯å¢ƒå…±äº«é€šç”¨è®¾ç½®</li>
<li>å°†æ•æ„Ÿé…ç½®åˆ†å¼€</li>
</ul>
<h3>åŸºæœ¬ç”¨æ³•</h3>
<pre><code class="language-json5">// ~/.openclaw/openclaw.json
{
  gateway: { port: 18789 },
  
  // åŒ…å«å•ä¸ªæ–‡ä»¶ï¼ˆæ›¿æ¢é”®çš„å€¼ï¼‰
  agents: { &quot;$include&quot;: &quot;./agents.json5&quot; },
  
  // åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ˆæŒ‰é¡ºåºæ·±åº¦åˆå¹¶ï¼‰
  broadcast: { 
    &quot;$include&quot;: [
      &quot;./clients/mueller.json5&quot;,
      &quot;./clients/schmidt.json5&quot;
    ]
  }
}
</code></pre>
<pre><code class="language-json5">// ~/.openclaw/agents.json5
{
  defaults: { sandbox: { mode: &quot;all&quot;, scope: &quot;session&quot; } },
  list: [
    { id: &quot;main&quot;, workspace: &quot;~/.openclaw/workspace&quot; }
  ]
}
</code></pre>
<h3>åˆå¹¶è¡Œä¸º</h3>
<ul>
<li><strong>å•ä¸ªæ–‡ä»¶</strong>ï¼šæ›¿æ¢åŒ…å« <code>$include</code> çš„å¯¹è±¡</li>
<li><strong>æ–‡ä»¶æ•°ç»„</strong>ï¼šæŒ‰é¡ºåºæ·±åº¦åˆå¹¶ï¼ˆåé¢çš„æ–‡ä»¶è¦†ç›–å‰é¢çš„ï¼‰</li>
<li><strong>ä¸å…„å¼Ÿé”®</strong>ï¼šå…„å¼Ÿé”®åœ¨åŒ…å«ååˆå¹¶ï¼ˆè¦†ç›–åŒ…å«çš„å€¼ï¼‰</li>
<li><strong>å…„å¼Ÿé”® + æ•°ç»„/åŸå§‹å€¼</strong>ï¼šä¸æ”¯æŒï¼ˆåŒ…å«çš„å†…å®¹å¿…é¡»æ˜¯å¯¹è±¡ï¼‰</li>
</ul>
<pre><code class="language-json5">// å…„å¼Ÿé”®è¦†ç›–åŒ…å«çš„å€¼
{
  &quot;$include&quot;: &quot;./base.json5&quot;,   // { a: 1, b: 2 }
  b: 99                          // ç»“æœ: { a: 1, b: 99 }
}
</code></pre>
<h3>åµŒå¥—åŒ…å«</h3>
<p>åŒ…å«çš„æ–‡ä»¶æœ¬èº«å¯ä»¥åŒ…å« <code>$include</code> æŒ‡ä»¤ï¼ˆæœ€å¤š 10 å±‚æ·±åº¦ï¼‰ï¼š</p>
<pre><code class="language-json5">// clients/mueller.json5
{
  agents: { &quot;$include&quot;: &quot;./mueller/agents.json5&quot; },
  broadcast: { &quot;$include&quot;: &quot;./mueller/broadcast.json5&quot; }
}
</code></pre>

        </div>
    </main>

    <script src="../assets/js/main.js?v=3"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šä»£ç†æ²™ç›’ - OpenClaw æ–‡æ¡£</title>
    <link rel="stylesheet" href="assets/css/style.css?v=3">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">ğŸ¦</span>
                <span class="logo-text">OpenClaw ä¸­æ–‡æ–‡æ¡£</span>
            </a>
            <button class="nav-toggle" onclick="toggleNav()">â˜°</button>
            <div class="nav-links" id="navLinks">

            <div class="nav-section">
                <span class="nav-section-title">å…¥é—¨æŒ‡å—</span>
                <a href="start/getting-started.html">å¿«é€Ÿå…¥é—¨</a>
                <a href="start/wizard.html">å‘å¯¼</a>
                <a href="start/pairing.html">é…å¯¹</a>
                <a href="start/setup.html">è®¾ç½®</a>
                <a href="start/openclaw.html">OpenClaw åŠ©æ‰‹</a>
                <a href="start/hubs.html">æ–‡æ¡£ä¸­å¿ƒ</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">ç½‘å…³é…ç½®</span>
                <a href="gateway/configuration.html">é…ç½®</a>
                <a href="gateway/configuration-examples.html">é…ç½®ç¤ºä¾‹</a>
                <a href="gateway/security.html">å®‰å…¨</a>
                <a href="gateway/remote.html">è¿œç¨‹è®¿é—®</a>
                <a href="gateway/tailscale.html">Tailscale</a>
                <a href="gateway/multiple-gateways.html">å¤šç½‘å…³</a>
                <a href="gateway/discovery.html">å‘ç°æœºåˆ¶</a>
                <a href="environment.html">ç¯å¢ƒå˜é‡</a>
                <a href="logging.html">æ—¥å¿—é…ç½®</a>
                <a href="network.html">ç½‘ç»œé…ç½®</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">æ¶ˆæ¯æ¸ é“</span>
                <a href="channels/whatsapp.html">WhatsApp</a>
                <a href="channels/telegram.html">Telegram</a>
                <a href="channels/discord.html">Discord</a>
                <a href="channels/mattermost.html">Mattermost</a>
                <a href="channels/imessage.html">iMessage</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">Web ç•Œé¢</span>
                <a href="web/webchat.html">WebChat</a>
                <a href="web/control-ui.html">æ§åˆ¶ç•Œé¢</a>
                <a href="web/dashboard.html">æ§åˆ¶å°</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">æ ¸å¿ƒæ¦‚å¿µ</span>
                <a href="concepts/streaming.html">æµå¼ä¼ è¾“</a>
                <a href="concepts/groups.html">ç¾¤ç»„</a>
                <a href="concepts/group-messages.html">ç¾¤ç»„æ¶ˆæ¯</a>
                <a href="concepts/multi-agent.html">å¤šä»£ç†è·¯ç”±</a>
                <a href="concepts/session.html">ä¼šè¯</a>
                <a href="broadcast-groups.html">å¹¿æ’­ç¾¤ç»„</a>
                <a href="multi-agent-sandbox-tools.html">å¤šä»£ç†æ²™ç›’</a>
                <a href="date-time.html">æ—¥æœŸæ—¶é—´</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">è‡ªåŠ¨åŒ–</span>
                <a href="automation/cron-jobs.html">å®šæ—¶ä»»åŠ¡</a>
                <a href="automation/webhook.html">Webhooks</a>
                <a href="automation/gmail-pubsub.html">Gmail Pub/Sub</a>
                <a href="hooks.html">é’©å­ç³»ç»Ÿ</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å·¥å…·ä¸æŠ€èƒ½</span>
                <a href="tools/slash-commands.html">æ–œæ å‘½ä»¤</a>
                <a href="tools/skills.html">æŠ€èƒ½</a>
                <a href="tools/skills-config.html">æŠ€èƒ½é…ç½®</a>
                <a href="tools/web.html">Web å·¥å…·</a>
                <a href="brave-search.html">Brave æœç´¢</a>
                <a href="perplexity.html">Perplexity</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å®‰è£…ä¸å¹³å°</span>
                <a href="install/updating.html">æ›´æ–°</a>
                <a href="install/nix.html">Nix æ¨¡å¼</a>
                <a href="platforms/macos.html">macOS</a>
                <a href="platforms/ios.html">iOS</a>
                <a href="platforms/android.html">Android</a>
                <a href="platforms/windows.html">Windows (WSL2)</a>
                <a href="platforms/linux.html">Linux</a>
                <a href="northflank.html">Northflank éƒ¨ç½²</a>
                <a href="bedrock.html">AWS Bedrock</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">èŠ‚ç‚¹ä¸åª’ä½“</span>
                <a href="nodes/index.html">èŠ‚ç‚¹</a>
                <a href="nodes/images.html">å›¾ç‰‡</a>
                <a href="nodes/audio.html">éŸ³é¢‘</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">CLI ä¸è°ƒè¯•</span>
                <a href="cli/index.html">CLI å‚è€ƒ</a>
                <a href="debug/node-issue.html">Node é—®é¢˜</a>
                <a href="diagnostics/flags.html">è¯Šæ–­æ ‡å¿—</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å®éªŒæ€§</span>
                <a href="experiments/onboarding-config-protocol.html">é…ç½®åè®®</a>
            </div>
            <div class="nav-section">
                <span class="nav-section-title">å…¶ä»–</span>
                <a href="help.html">å¸®åŠ©</a>
            </div>

            </div>
        </div>
    </nav>

    <div class="overlay" onclick="toggleNav()"></div>

    <main class="main-content">
        <div class="content">
            <h1>å¤šä»£ç†æ²™ç›’</h1>
<h1>å¤š Agent æ²™ç›’ä¸å·¥å…·é…ç½®</h1>
<h2>æ¦‚è¿°</h2>
<p>å¤š Agent è®¾ç½®ä¸­çš„æ¯ä¸ª Agent ç°åœ¨å¯ä»¥æœ‰è‡ªå·±çš„ï¼š</p>
<ul>
<li><strong>æ²™ç›’é…ç½®</strong>ï¼ˆ<code>agents.list[].sandbox</code> è¦†ç›– <code>agents.defaults.sandbox</code>ï¼‰</li>
<li><strong>å·¥å…·é™åˆ¶</strong>ï¼ˆ<code>tools.allow</code> / <code>tools.deny</code>ï¼ŒåŠ ä¸Š <code>agents.list[].tools</code>ï¼‰</li>
</ul>
<p>è¿™è®©ä½ å¯ä»¥è¿è¡Œå…·æœ‰ä¸åŒå®‰å…¨é…ç½®çš„å¤šä¸ª Agentï¼š</p>
<ul>
<li>å®Œå…¨è®¿é—®çš„ä¸ªäººåŠ©æ‰‹</li>
<li>å—é™åˆ¶å·¥å…·çš„å®¶åº­/å·¥ä½œ Agent</li>
<li>æ²™ç›’ä¸­çš„é¢å‘å…¬ä¼— Agent</li>
</ul>
<p><code>setupCommand</code> å±äº <code>sandbox.docker</code> ä¸‹ï¼ˆå…¨å±€æˆ–æ¯ä¸ª Agentï¼‰ï¼Œåœ¨å®¹å™¨åˆ›å»ºæ—¶è¿è¡Œä¸€æ¬¡ã€‚</p>
<p>æ¯ä¸ª Agent çš„è®¤è¯ï¼šæ¯ä¸ª Agent ä»è‡ªå·±çš„ <code>agentDir</code> è®¤è¯å­˜å‚¨è¯»å–ï¼š</p>
<pre><code>~/.openclaw/agents/&lt;agentId&gt;/agent/auth-profiles.json
</code></pre>
<p><strong>å‡­è¯ä¸åœ¨ Agent ä¹‹é—´å…±äº«ã€‚</strong> æ°¸è¿œä¸è¦è·¨ Agent é‡ç”¨ <code>agentDir</code>ã€‚<br>å¦‚æœä½ æƒ³å…±äº«å‡­è¯ï¼Œå°† <code>auth-profiles.json</code> å¤åˆ¶åˆ°å…¶ä»– Agent çš„ <code>agentDir</code> ä¸­ã€‚</p>
<p>è¿è¡Œæ—¶æ²™ç›’è¡Œä¸ºè¯¦è§ <a href="gateway/sandboxing.html">æ²™ç›’</a>ã€‚<br>è°ƒè¯•&quot;ä¸ºä»€ä¹ˆè¢«é˜»æ­¢ï¼Ÿ&quot;è¯¦è§ <a href="gateway/sandbox-vs-tool-policy-vs-elevated.html">æ²™ç›’ vs å·¥å…·ç­–ç•¥ vs ç‰¹æƒ</a> å’Œ <code>openclaw sandbox explain</code>ã€‚</p>
<hr>
<h2>é…ç½®ç¤ºä¾‹</h2>
<h3>ç¤ºä¾‹ 1ï¼šä¸ªäºº + å—é™åˆ¶çš„å®¶åº­ Agent</h3>
<pre><code class="language-json">{
  &quot;agents&quot;: {
    &quot;list&quot;: [
      {
        &quot;id&quot;: &quot;main&quot;,
        &quot;default&quot;: true,
        &quot;name&quot;: &quot;Personal Assistant&quot;,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace&quot;,
        &quot;sandbox&quot;: { &quot;mode&quot;: &quot;off&quot; }
      },
      {
        &quot;id&quot;: &quot;family&quot;,
        &quot;name&quot;: &quot;Family Bot&quot;,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace-family&quot;,
        &quot;sandbox&quot;: {
          &quot;mode&quot;: &quot;all&quot;,
          &quot;scope&quot;: &quot;agent&quot;
        },
        &quot;tools&quot;: {
          &quot;allow&quot;: [&quot;read&quot;],
          &quot;deny&quot;: [&quot;exec&quot;, &quot;write&quot;, &quot;edit&quot;, &quot;apply_patch&quot;, &quot;process&quot;, &quot;browser&quot;]
        }
      }
    ]
  },
  &quot;bindings&quot;: [
    {
      &quot;agentId&quot;: &quot;family&quot;,
      &quot;match&quot;: {
        &quot;provider&quot;: &quot;whatsapp&quot;,
        &quot;accountId&quot;: &quot;*&quot;,
        &quot;peer&quot;: {
          &quot;kind&quot;: &quot;group&quot;,
          &quot;id&quot;: &quot;120363424282127706@g.us&quot;
        }
      }
    }
  ]
}
</code></pre>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li><code>main</code> Agentï¼šåœ¨ä¸»æœºä¸Šè¿è¡Œï¼Œå®Œå…¨å·¥å…·è®¿é—®</li>
<li><code>family</code> Agentï¼šåœ¨ Docker ä¸­è¿è¡Œï¼ˆæ¯ä¸ª Agent ä¸€ä¸ªå®¹å™¨ï¼‰ï¼Œåªæœ‰ <code>read</code> å·¥å…·</li>
</ul>
<hr>
<h3>ç¤ºä¾‹ 2ï¼šå·¥ä½œ Agent ä¸å…±äº«æ²™ç›’</h3>
<pre><code class="language-json">{
  &quot;agents&quot;: {
    &quot;list&quot;: [
      {
        &quot;id&quot;: &quot;personal&quot;,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace-personal&quot;,
        &quot;sandbox&quot;: { &quot;mode&quot;: &quot;off&quot; }
      },
      {
        &quot;id&quot;: &quot;work&quot;,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace-work&quot;,
        &quot;sandbox&quot;: {
          &quot;mode&quot;: &quot;all&quot;,
          &quot;scope&quot;: &quot;shared&quot;,
          &quot;workspaceRoot&quot;: &quot;/tmp/work-sandboxes&quot;
        },
        &quot;tools&quot;: {
          &quot;allow&quot;: [&quot;read&quot;, &quot;write&quot;, &quot;apply_patch&quot;, &quot;exec&quot;],
          &quot;deny&quot;: [&quot;browser&quot;, &quot;gateway&quot;, &quot;discord&quot;]
        }
      }
    ]
  }
}
</code></pre>
<hr>
<h3>ç¤ºä¾‹ 2bï¼šå…¨å±€ç¼–ç é…ç½® + ä»…æ¶ˆæ¯ Agent</h3>
<pre><code class="language-json">{
  &quot;tools&quot;: { &quot;profile&quot;: &quot;coding&quot; },
  &quot;agents&quot;: {
    &quot;list&quot;: [
      {
        &quot;id&quot;: &quot;support&quot;,
        &quot;tools&quot;: { &quot;profile&quot;: &quot;messaging&quot;, &quot;allow&quot;: [&quot;slack&quot;] }
      }
    ]
  }
}
</code></pre>
<p><strong>ç»“æœï¼š</strong></p>
<ul>
<li>é»˜è®¤ Agent è·å¾—ç¼–ç å·¥å…·</li>
<li><code>support</code> Agent ä»…ç”¨äºæ¶ˆæ¯ï¼ˆ+ Slack å·¥å…·ï¼‰</li>
</ul>
<hr>
<h3>ç¤ºä¾‹ 3ï¼šæ¯ä¸ª Agent ä¸åŒçš„æ²™ç›’æ¨¡å¼</h3>
<pre><code class="language-json">{
  &quot;agents&quot;: {
    &quot;defaults&quot;: {
      &quot;sandbox&quot;: {
        &quot;mode&quot;: &quot;non-main&quot;,  // å…¨å±€é»˜è®¤
        &quot;scope&quot;: &quot;session&quot;
      }
    },
    &quot;list&quot;: [
      {
        &quot;id&quot;: &quot;main&quot;,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace&quot;,
        &quot;sandbox&quot;: {
          &quot;mode&quot;: &quot;off&quot;  // è¦†ç›–ï¼šmain ä»ä¸æ²™ç›’
        }
      },
      {
        &quot;id&quot;: &quot;public&quot;,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace-public&quot;,
        &quot;sandbox&quot;: {
          &quot;mode&quot;: &quot;all&quot;,  // è¦†ç›–ï¼špublic å§‹ç»ˆæ²™ç›’
          &quot;scope&quot;: &quot;agent&quot;
        },
        &quot;tools&quot;: {
          &quot;allow&quot;: [&quot;read&quot;],
          &quot;deny&quot;: [&quot;exec&quot;, &quot;write&quot;, &quot;edit&quot;, &quot;apply_patch&quot;]
        }
      }
    ]
  }
}
</code></pre>
<hr>
<h2>é…ç½®ä¼˜å…ˆçº§</h2>
<p>å½“å…¨å±€ï¼ˆ<code>agents.defaults.*</code>ï¼‰å’Œç‰¹å®š Agentï¼ˆ<code>agents.list[].*</code>ï¼‰é…ç½®éƒ½å­˜åœ¨æ—¶ï¼š</p>
<h3>æ²™ç›’é…ç½®</h3>
<p>ç‰¹å®š Agent è®¾ç½®è¦†ç›–å…¨å±€ï¼š</p>
<pre><code>agents.list[].sandbox.mode &gt; agents.defaults.sandbox.mode
agents.list[].sandbox.scope &gt; agents.defaults.sandbox.scope
agents.list[].sandbox.workspaceRoot &gt; agents.defaults.sandbox.workspaceRoot
agents.list[].sandbox.workspaceAccess &gt; agents.defaults.sandbox.workspaceAccess
agents.list[].sandbox.docker.* &gt; agents.defaults.sandbox.docker.*
agents.list[].sandbox.browser.* &gt; agents.defaults.sandbox.browser.*
agents.list[].sandbox.prune.* &gt; agents.defaults.sandbox.prune.*
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li><code>agents.list[].sandbox.{docker,browser,prune}.*</code> è¦†ç›–è¯¥ Agent çš„ <code>agents.defaults.sandbox.{docker,browser,prune}.*</code>ï¼ˆå½“æ²™ç›’èŒƒå›´è§£æä¸º <code>&quot;shared&quot;</code> æ—¶å¿½ç•¥ï¼‰</li>
</ul>
<h3>å·¥å…·é™åˆ¶</h3>
<p>è¿‡æ»¤é¡ºåºæ˜¯ï¼š</p>
<ol>
<li><strong>å·¥å…·é…ç½®æ–‡ä»¶</strong>ï¼ˆ<code>tools.profile</code> æˆ– <code>agents.list[].tools.profile</code>ï¼‰</li>
<li><strong>æä¾›è€…å·¥å…·é…ç½®æ–‡ä»¶</strong>ï¼ˆ<code>tools.byProvider[provider].profile</code> æˆ– <code>agents.list[].tools.byProvider[provider].profile</code>ï¼‰</li>
<li><strong>å…¨å±€å·¥å…·ç­–ç•¥</strong>ï¼ˆ<code>tools.allow</code> / <code>tools.deny</code>ï¼‰</li>
<li><strong>æä¾›è€…å·¥å…·ç­–ç•¥</strong>ï¼ˆ<code>tools.byProvider[provider].allow/deny</code>ï¼‰</li>
<li><strong>ç‰¹å®š Agent å·¥å…·ç­–ç•¥</strong>ï¼ˆ<code>agents.list[].tools.allow/deny</code>ï¼‰</li>
<li><strong>Agent æä¾›è€…ç­–ç•¥</strong>ï¼ˆ<code>agents.list[].tools.byProvider[provider].allow/deny</code>ï¼‰</li>
<li><strong>æ²™ç›’å·¥å…·ç­–ç•¥</strong>ï¼ˆ<code>tools.sandbox.tools</code> æˆ– <code>agents.list[].tools.sandbox.tools</code>ï¼‰</li>
<li><strong>å­ Agent å·¥å…·ç­–ç•¥</strong>ï¼ˆ<code>tools.subagents.tools</code>ï¼Œå¦‚æœé€‚ç”¨ï¼‰</li>
</ol>
<p>æ¯ä¸ªçº§åˆ«åªèƒ½è¿›ä¸€æ­¥é™åˆ¶å·¥å…·ï¼Œä¸èƒ½æˆäºˆä¹‹å‰çº§åˆ«æ‹’ç»çš„å·¥å…·ã€‚<br>å¦‚æœè®¾ç½®äº† <code>agents.list[].tools.sandbox.tools</code>ï¼Œå®ƒä¼šæ›¿æ¢è¯¥ Agent çš„ <code>tools.sandbox.tools</code>ã€‚<br>å¦‚æœè®¾ç½®äº† <code>agents.list[].tools.profile</code>ï¼Œå®ƒä¼šè¦†ç›–è¯¥ Agent çš„ <code>tools.profile</code>ã€‚<br>æä¾›è€…å·¥å…·é”®æ¥å— <code>provider</code>ï¼ˆä¾‹å¦‚ <code>google-antigravity</code>ï¼‰æˆ– <code>provider/model</code>ï¼ˆä¾‹å¦‚ <code>openai/gpt-5.2</code>ï¼‰ã€‚</p>
<h3>å·¥å…·ç»„ï¼ˆç®€å†™ï¼‰</h3>
<p>å·¥å…·ç­–ç•¥ï¼ˆå…¨å±€ã€Agentã€æ²™ç›’ï¼‰æ”¯æŒå±•å¼€ä¸ºå¤šä¸ªå…·ä½“å·¥å…·çš„ <code>group:*</code> æ¡ç›®ï¼š</p>
<ul>
<li><code>group:runtime</code>: <code>exec</code>, <code>bash</code>, <code>process</code></li>
<li><code>group:fs</code>: <code>read</code>, <code>write</code>, <code>edit</code>, <code>apply_patch</code></li>
<li><code>group:sessions</code>: <code>sessions_list</code>, <code>sessions_history</code>, <code>sessions_send</code>, <code>sessions_spawn</code>, <code>session_status</code></li>
<li><code>group:memory</code>: <code>memory_search</code>, <code>memory_get</code></li>
<li><code>group:ui</code>: <code>browser</code>, <code>canvas</code></li>
<li><code>group:automation</code>: <code>cron</code>, <code>gateway</code></li>
<li><code>group:messaging</code>: <code>message</code></li>
<li><code>group:nodes</code>: <code>nodes</code></li>
<li><code>group:openclaw</code>: æ‰€æœ‰å†…ç½® OpenClaw å·¥å…·ï¼ˆä¸åŒ…æ‹¬æä¾›è€…æ’ä»¶ï¼‰</li>
</ul>
<h3>ç‰¹æƒæ¨¡å¼</h3>
<p><code>tools.elevated</code> æ˜¯å…¨å±€åŸºçº¿ï¼ˆåŸºäºå‘é€è€…çš„å…è®¸åˆ—è¡¨ï¼‰ã€‚<code>agents.list[].tools.elevated</code> å¯ä»¥è¿›ä¸€æ­¥é™åˆ¶ç‰¹å®š Agent çš„ç‰¹æƒï¼ˆä¸¤è€…éƒ½å¿…é¡»å…è®¸ï¼‰ã€‚</p>
<p>ç¼“è§£æ¨¡å¼ï¼š</p>
<ul>
<li>å¯¹ä¸å—ä¿¡ä»»çš„ Agent æ‹’ç» <code>exec</code>ï¼ˆ<code>agents.list[].tools.deny: [&quot;exec&quot;]</code>ï¼‰</li>
<li>é¿å…å°†å‘é€è€…åˆ—å…¥ä¼šè·¯ç”±åˆ°å—é™åˆ¶ Agent çš„ç™½åå•</li>
<li>å…¨å±€ç¦ç”¨ç‰¹æƒï¼ˆ<code>tools.elevated.enabled: false</code>ï¼‰å¦‚æœä½ åªæƒ³è¦æ²™ç›’æ‰§è¡Œ</li>
<li>ä¸ºæ•æ„Ÿé…ç½®æ–‡ä»¶æ¯ä¸ª Agent ç¦ç”¨ç‰¹æƒï¼ˆ<code>agents.list[].tools.elevated.enabled: false</code>ï¼‰</li>
</ul>
<hr>
<h2>ä»å• Agent è¿ç§»</h2>
<p><strong>ä¹‹å‰ï¼ˆå• Agentï¼‰ï¼š</strong></p>
<pre><code class="language-json">{
  &quot;agents&quot;: {
    &quot;defaults&quot;: {
      &quot;workspace&quot;: &quot;~/.openclaw/workspace&quot;,
      &quot;sandbox&quot;: {
        &quot;mode&quot;: &quot;non-main&quot;
      }
    }
  },
  &quot;tools&quot;: {
    &quot;sandbox&quot;: {
      &quot;tools&quot;: {
        &quot;allow&quot;: [&quot;read&quot;, &quot;write&quot;, &quot;apply_patch&quot;, &quot;exec&quot;],
        &quot;deny&quot;: []
      }
    }
  }
}
</code></pre>
<p><strong>ä¹‹åï¼ˆå…·æœ‰ä¸åŒé…ç½®æ–‡ä»¶çš„å¤š Agentï¼‰ï¼š</strong></p>
<pre><code class="language-json">{
  &quot;agents&quot;: {
    &quot;list&quot;: [
      {
        &quot;id&quot;: &quot;main&quot;,
        &quot;default&quot;: true,
        &quot;workspace&quot;: &quot;~/.openclaw/workspace&quot;,
        &quot;sandbox&quot;: { &quot;mode&quot;: &quot;off&quot; }
      }
    ]
  }
}
</code></pre>
<p>æ—§ç‰ˆ <code>agent.*</code> é…ç½®ç”± <code>openclaw doctor</code> è¿ç§»ï¼›ä»Šåä¼˜å…ˆä½¿ç”¨ <code>agents.defaults</code> + <code>agents.list</code>ã€‚</p>
<hr>
<h2>å·¥å…·é™åˆ¶ç¤ºä¾‹</h2>
<h3>åªè¯» Agent</h3>
<pre><code class="language-json">{
  &quot;tools&quot;: {
    &quot;allow&quot;: [&quot;read&quot;],
    &quot;deny&quot;: [&quot;exec&quot;, &quot;write&quot;, &quot;edit&quot;, &quot;apply_patch&quot;, &quot;process&quot;]
  }
}
</code></pre>
<h3>å®‰å…¨æ‰§è¡Œ Agentï¼ˆæ— æ–‡ä»¶ä¿®æ”¹ï¼‰</h3>
<pre><code class="language-json">{
  &quot;tools&quot;: {
    &quot;allow&quot;: [&quot;read&quot;, &quot;exec&quot;, &quot;process&quot;],
    &quot;deny&quot;: [&quot;write&quot;, &quot;edit&quot;, &quot;apply_patch&quot;, &quot;browser&quot;, &quot;gateway&quot;]
  }
}
</code></pre>
<h3>ä»…é€šä¿¡ Agent</h3>
<pre><code class="language-json">{
  &quot;tools&quot;: {
    &quot;allow&quot;: [&quot;sessions_list&quot;, &quot;sessions_send&quot;, &quot;sessions_history&quot;, &quot;session_status&quot;],
    &quot;deny&quot;: [&quot;exec&quot;, &quot;write&quot;, &quot;edit&quot;, &quot;apply_patch&quot;, &quot;read&quot;, &quot;browser&quot;]
  }
}
</code></pre>
<hr>
<h2>å¸¸è§é™·é˜±ï¼š&quot;non-main&quot;</h2>
<p><code>agents.defaults.sandbox.mode: &quot;non-main&quot;</code> åŸºäº <code>session.mainKey</code>ï¼ˆé»˜è®¤ <code>&quot;main&quot;</code>ï¼‰ï¼Œ<br>è€Œä¸æ˜¯ Agent IDã€‚ç¾¤ç»„/é¢‘é“ä¼šè¯æ€»æ˜¯è·å¾—è‡ªå·±çš„é”®ï¼Œå› æ­¤å®ƒä»¬è¢«è§†ä¸º non-main å¹¶å°†è¢«æ²™ç›’ã€‚å¦‚æœä½ æƒ³è®© Agent ä»ä¸æ²™ç›’ï¼Œè®¾ç½® <code>agents.list[].sandbox.mode: &quot;off&quot;</code>ã€‚</p>
<hr>
<h2>æµ‹è¯•</h2>
<p>é…ç½®å¤š Agent æ²™ç›’å’Œå·¥å…·åï¼š</p>
<ol>
<li><p><strong>æ£€æŸ¥ Agent è§£æï¼š</strong></p>
<pre><code class="language-bash">openclaw agents list --bindings
</code></pre>
</li>
<li><p><strong>éªŒè¯æ²™ç›’å®¹å™¨ï¼š</strong></p>
<pre><code class="language-bash">docker ps --filter &quot;name=openclaw-sbx-&quot;
</code></pre>
</li>
<li><p><strong>æµ‹è¯•å·¥å…·é™åˆ¶ï¼š</strong></p>
<ul>
<li>å‘é€éœ€è¦å—é™åˆ¶å·¥å…·çš„æ¶ˆæ¯</li>
<li>éªŒè¯ Agent ä¸èƒ½ä½¿ç”¨è¢«æ‹’ç»çš„å·¥å…·</li>
</ul>
</li>
<li><p><strong>ç›‘æ§æ—¥å¿—ï¼š</strong></p>
<pre><code class="language-bash">tail -f &quot;${OPENCLAW_STATE_DIR:-$HOME/.openclaw}/logs/gateway.log&quot; | grep -E &quot;routing|sandbox|tools&quot;
</code></pre>
</li>
</ol>
<hr>
<h2>æ•…éšœæ’é™¤</h2>
<h3>å°½ç®¡è®¾ç½®äº† <code>mode: &quot;all&quot;</code> Agent ä»æœªæ²™ç›’</h3>
<ul>
<li>æ£€æŸ¥æ˜¯å¦æœ‰å…¨å±€ <code>agents.defaults.sandbox.mode</code> è¦†ç›–äº†å®ƒ</li>
<li>ç‰¹å®š Agent é…ç½®ä¼˜å…ˆï¼Œæ‰€ä»¥è®¾ç½® <code>agents.list[].sandbox.mode: &quot;all&quot;</code></li>
</ul>
<h3>å°½ç®¡æœ‰æ‹’ç»åˆ—è¡¨å·¥å…·ä»ç„¶å¯ç”¨</h3>
<ul>
<li>æ£€æŸ¥å·¥å…·è¿‡æ»¤é¡ºåºï¼šå…¨å±€ â†’ Agent â†’ æ²™ç›’ â†’ å­ Agent</li>
<li>æ¯ä¸ªçº§åˆ«åªèƒ½è¿›ä¸€æ­¥é™åˆ¶ï¼Œä¸èƒ½æˆäºˆ</li>
<li>ç”¨æ—¥å¿—éªŒè¯ï¼š<code>[tools] filtering tools for agent:${agentId}</code></li>
</ul>
<h3>å®¹å™¨æœªæŒ‰ Agent éš”ç¦»</h3>
<ul>
<li>åœ¨ç‰¹å®š Agent æ²™ç›’é…ç½®ä¸­è®¾ç½® <code>scope: &quot;agent&quot;</code></li>
<li>é»˜è®¤æ˜¯ <code>&quot;session&quot;</code>ï¼Œä¸ºæ¯ä¸ªä¼šè¯åˆ›å»ºä¸€ä¸ªå®¹å™¨</li>
</ul>
<hr>
<h2>å¦è§</h2>
<ul>
<li><a href="concepts/multi-agent.html">å¤š Agent è·¯ç”±</a></li>
<li><a href="gateway/configuration#agentsdefaults-sandbox.html">æ²™ç›’é…ç½®</a></li>
<li><a href="concepts/session.html">ä¼šè¯ç®¡ç†</a></li>
</ul>

        </div>
    </main>

    <script src="assets/js/main.js?v=3"></script>
</body>
</html>
